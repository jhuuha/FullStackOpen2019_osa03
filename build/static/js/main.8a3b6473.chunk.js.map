{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","newFilter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","length","filter","person","name","toLowerCase","includes","map","key","number","onClick","id","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","message","color","notificationStyle","fontSize","fontWeight","border","backgroundColor","marginBottom","padding","borderRadius","style","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","initialPersons","updatePerson","find","n","changedPerson","objectSpread","returnedPerson","setTimeout","catch","error","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","lenght","some","window","confirm","components_Persons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.8a3b6473.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newFilter, handleFilterChange }) => {\n    return (\n        <div>rajaa näytettäviä: <input value={newFilter} onChange={handleFilterChange} /></div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>nimi: <input value={newName} onChange={handleNameChange} /></div>\n            <div>numero: <input value={newNumber} onChange={handleNumberChange} /></div>\n            <div><button type=\"submit\">lisää</button></div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ persons, newFilter, handleDelete }) => {\n\n    const personsToShow = (newFilter.length > 0)\n        ? persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n        : persons\n\n    const rows = () => personsToShow.map(person =>\n        <div key={person.name}>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person.id)}>poista</button>\n        </div>\n    )\n\n    return (\n        rows()\n    )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst del = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, del, update }","import React from 'react'\n\nconst Notification = ({ message, color }) => {\n    const notificationStyle = {\n        fontSize: '20px',\n        fontWeight: '700',\n        color: `${color}`,\n        border: `2px solid ${color}`,\n        backgroundColor: 'lightgray',\n        marginBottom: '20px',\n        padding: '10px',\n        borderRadius: '7px'\n    }\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    );\n};\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (newName.length > 0 && newNumber.lenght > 0) {\n      if (!(persons.some(person => person['name'] === newName))) {\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n        personService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage(\n              `Lisättiin ${returnedPerson.name}`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 2000)\n          })\n      } else {\n        if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n          updatePerson(persons.find(n => n.name === newName).id)\n        }\n      }\n    } else {\n      setErrorMessage(\n        `Virhe: nimi tai numero tyhjä!`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 4000)\n    }\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Poistetaanko ${person.name}`)) {\n      personService\n        .del(id)\n        .then(response => {\n          setPersons(persons.filter(n => n.id !== id))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(\n            `Poistettiin ${person.name}`\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 2000)\n        })\n    }\n  }\n\n  const updatePerson = id => {\n    const person = persons.find(n => n.id === id)\n    const changedPerson = { ...person, number: newNumber }\n    personService\n      .update(id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(\n          `Henkilölle ${returnedPerson.name} päivitettiin numero ${returnedPerson.number}`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 2000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Virhe: henkilö '${person.name}' poistettu palvelimelta`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 4000)\n        setPersons(persons.filter(n => n.id !== id))\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={notificationMessage} color='darkgreen' />\n      <Notification message={errorMessage} color='red' />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>lisää uusi</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numerot</h3>\n      <Persons persons={persons} newFilter={newFilter} handleDelete={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}